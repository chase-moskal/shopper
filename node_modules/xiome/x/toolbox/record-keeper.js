// TODO obsolete
// usage of these functions should be replaced by the better assertive-map.ts
export function strongRecordKeeper() {
    return function (makeRecord) {
        const map = new Map();
        return function getRecord(key) {
            let record;
            if (map.has(key))
                record = map.get(key);
            else {
                record = makeRecord(key);
                map.set(key, record);
            }
            return record;
        };
    };
}
export function weakRecordKeeper() {
    return function (makeState) {
        const weakMap = new WeakMap();
        return function getState(key) {
            let state;
            if (weakMap.has(key)) {
                state = weakMap.get(key);
            }
            else {
                state = makeState(key);
                weakMap.set(key, state);
            }
            return state;
        };
    };
}
//# sourceMappingURL=record-keeper.js.map