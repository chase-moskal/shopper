import "broadcastchannel-polyfill";
export function wireMediatorBroadcastChannel({ appId, authMediator }) {
    const channel = new BroadcastChannel("tokenChangeEvent");
    authMediator.subscribeToTokenChange(() => channel.postMessage({ appId }));
    channel.onmessage = (event) => {
        if (event.data.appId === appId)
            authMediator.initialize();
    };
}
//# sourceMappingURL=wire-mediator-broadcast-channel.js.map