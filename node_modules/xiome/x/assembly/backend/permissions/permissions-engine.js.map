{"version":3,"file":"permissions-engine.js","sourceRoot":"","sources":["../../../../s/assembly/backend/permissions/permissions-engine.ts"],"names":[],"mappings":"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"}