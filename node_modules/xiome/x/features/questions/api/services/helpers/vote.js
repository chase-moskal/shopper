import { find } from "dbmage";
export async function vote({ status, userId, itemId, voteTable }) {
    const previousVote = await voteTable.count(find({ userId, itemId }))
        > 0;
    const addVote = () => voteTable.create({ userId, itemId });
    const removeVote = () => voteTable.delete(find({ userId, itemId }));
    if (!previousVote && status)
        await addVote();
    else if (previousVote && !status)
        await removeVote();
}
//# sourceMappingURL=vote.js.map