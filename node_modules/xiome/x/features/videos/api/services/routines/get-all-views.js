export async function getAllViews({ videoTables }) {
    const viewDacastRows = await videoTables.viewDacast.read({
        conditions: false,
    });
    const viewPrivilegeRows = await videoTables.viewPrivileges.read({
        conditions: false,
    });
    return viewDacastRows.map(dacastRow => {
        const privileges = viewPrivilegeRows
            .filter(privilegeRow => privilegeRow.label === dacastRow.label)
            .map(r => r.privilegeId.toString());
        return {
            label: dacastRow.label,
            privileges,
            reference: {
                provider: "dacast",
                type: dacastRow.type,
                id: dacastRow.dacastId,
            },
        };
    });
}
//# sourceMappingURL=get-all-views.js.map